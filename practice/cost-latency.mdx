---
title: "비용/지연시간"
description: "token/latency/TTFT/cost 해석"
---
## 이 문서에서 하는 것
- 같은 질문을 여러 설정으로 실행해서 결과/비용/속도를 비교해.

## 준비물
- Practice 세션(새로 만들거나 기존 세션)
- 모델 1개 선택

## 조절 변수(핵심)
- 모델: provider/model_name
- 파라미터: temperature, top_p, max_tokens (및 response length preset을 쓰면 같이)
- (선택) Agents: system prompt + few-shot 예시
- (선택) RAG: top-k/threshold/rerank

## 기록할 지표
- 지연시간(latency) / TTFT
- 토큰(prompt/completion/total)
- 비용(추정치)
- 품질(정확도/가독성/근거성)

## 자주 터지는 실수
- 변수를 한 번에 여러 개 바꿈(원인 분석 불가)
- few-shot이 너무 김(비용/지연 급증)
- temperature 과다(사실 QA에서 환각 위험)

## 지연시간이 늘어나는 이유
- 모델 자체 속도/부하
- 프롬프트 길이(히스토리+system+few-shot+RAG 컨텍스트)
- RAG 단계(retrieval/rerank)

## 비용이 늘어나는 이유
- prompt tokens 증가(특히 RAG/예시/히스토리)
- completion tokens 증가(긴 답변)

## 최적화 체크리스트
- 히스토리/컨텍스트 슬림화
- top-k 줄이거나 threshold 올리기
- rerank는 필요할 때만
- 실습 반복 구간은 짧은 응답 프리셋 사용

## 다음 문서
- /rag/overview
- /tutorials/03-rerank

