---
title: "RAG 운영 플레이북"
description: "강사가 수업 자료를 RAG로 준비하고 비교 실험을 설계하는 방법을 정리했습니다."
icon: "book-open"
---

## 준비 체크
- **자료 선정**: 교재, FAQ, 공지 등 수업 핵심 자료를 우선순위로 정리합니다.
- **포맷 정리**: PDF·PPT는 페이지 구분이 명확한 버전을 사용하고, 표/리스트는 Markdown이나 텍스트로 변환해 인덱싱합니다.
- **민감 정보 검토**: 학생에게 노출되면 안 되는 개인정보는 제거하거나 비식별화합니다.

---

## 업로드 → 인제스트 흐름
<Steps>
  <Step title="지식베이스 생성">
    클래스별 KB를 따로 만들어 자료 접근 범위를 분리합니다. 태그를 과목/주차 단위로 달아 추후 검색 필터에 활용합니다.
  </Step>
  <Step title="문서 업로드 & 청크 설정">
    업로드 시 <strong>chunk size</strong>와 <strong>overlap</strong>을 과제 특성에 맞게 조정합니다. 요약/정의 중심이면 500~800, 장문 서술형이면 800~1200을 시작점으로 추천합니다.
  </Step>
  <Step title="인제스트 모니터링">
    진행 상태가 Pending에 멈추면 파일 크기/포맷을 확인하고, 실패 로그는 좌측 하단의 에러 메시지에서 확인합니다.
  </Step>
</Steps>

---

## 검색·비교 설계
- **베이스라인 정의**: RAG OFF, RAG ON(top-k 기본값), RAG ON + 재랭킹의 세 가지 버전을 준비해 정확도/속도 차이를 비교합니다.
- **질문 세트 구성**: 단답·장문·수치·정의 등 유형별 질문을 섞어 검색 품질을 폭넓게 확인합니다.
- **출처 검증 포인트**: 답변 아래 citation이 2개 이상 붙는지, 근거 문구가 질문과 직접 연결되는지 확인합니다.

---

## 문제 해결 팁
- **검색 결과가 비어 있을 때**: threshold를 낮추거나 top-k를 5→10으로 늘려 검색 범위를 확장합니다.
- **출처가 틀릴 때**: chunk size를 줄이거나 overlap을 늘려 문맥을 보존하고, 재랭킹을 켜서 상위 문서를 재정렬합니다.
- **느릴 때**: 재랭킹을 끄거나 top-k를 줄이고, 자주 쓰는 문서는 캐시된 상태인지 확인합니다.
