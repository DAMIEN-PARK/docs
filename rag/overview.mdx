---
title: "RAG 개요"
description: "Knowledge Base(RAG) 전체 흐름"
---

## 이 문서에서 하는 것
- Knowledge Base 화면에서 **업로드 → 파라미터 설정 → 비교 테스트** 흐름을 한눈에 정리하고, 어디서 무엇을 조정해야 하는지 짚어봐.

## 화면에서 보이는 RAG 파이프라인
1) **인제스천**: 모드 카드(간편/고급)에서 업로드 방식 선택 → 파일/URL을 추가 → 인덱싱 상태 확인.
2) **청킹·임베딩 설정**: 고급 설정에서 chunk_size/overlap, embedding 모델, dimension 입력.
3) **검색·재랭킹**: RAG 비교 카드에서 top_k/threshold, rerank on/off를 좌·우로 다르게 설정.
4) **응답 생성/출처 확인**: 테스트 프롬프트 실행 후, 응답과 근거 청크/점수를 나란히 비교.

## 핵심 관찰 포인트
- **품질**: 답변과 프리뷰에 표시되는 근거 섹션이 일치하는지, 출처 링크가 유효한지.
- **지연/비용**: 좌·우 설정별 latency, 토큰 사용량(컨텍스트 길이), rerank 추가 비용 변화를 함께 본다.
- **안정성**: 동일 파라미터에서 retrieved_count와 score 분포가 크게 흔들리지 않는지 체크.

## 자주 터지는 실수 & 예방
- 업로드 모드 혼동: 간편 업로드 기본값을 테스트한 뒤에만 고급 설정을 건드려라.
- 파라미터 일괄 변경: top_k, threshold, rerank를 한 번에 바꾸면 원인 분석이 어렵다. 비교 카드로 **1개씩** 실험해.
- 중복/불량 문서: 목록 패널에서 상태/파일 유형 필터를 적용하고, 프리뷰로 중복·깨진 파일을 먼저 제거한다.

## 첫 실험 추천
1) **RAG OFF vs ON**: 좌측은 비활성, 우측은 기본값(top_k 5, threshold 낮음)으로 실행.
2) **top_k 3 vs 10**: 정확도 vs 노이즈/비용 트레이드오프 체감.
3) **rerank OFF vs ON**: latency 증가 폭 대비 근거 품질 향상 여부를 기록.
4) **threshold 튜닝**: 낮은 값에서 시작해 노이즈가 줄 때까지 단계적으로 올린다.

## 다음 문서
- /rag/ingestion (업로드·상태 관리)
- /rag/chunking (청킹 전략)
- /rag/search (검색 파라미터·테스트 해석)
