---
title: "재랭킹(Rerank)"
description: "정확도와 latency 사이에서 rerank on/off를 판단하기"
---

## 이 문서에서 하는 것
- RAG 비교 카드에서 rerank 스위치를 켤지 말지 판단하는 기준과, 결과 해석 포인트를 모아둔다.

## 언제 켜야 하나?
- **정확도 최우선**: 시험/평가 자료, 규정집처럼 한 두 문단의 근거가 중요한 경우.
- **top_k가 큰 경우**: 8~15처럼 후보를 넓게 가져올 때 상위 정렬을 안정화하기 위해.
- **score 편차가 클 때**: 검색 점수가 들쑥날쑥하면 재랭킹으로 우선순위를 재정렬한다.

## 켰을 때 관찰
- **latency 증가폭**: 동일 top_k에서 rerank ON/OFF를 비교해 지연 허용 범위 내인지 확인.
- **출처 정밀도**: ON 시 상위 출처가 더 일관되고 응답이 짧아지는지 본다.
- **컨텍스트 길이**: rerank 자체는 컨텍스트 길이를 늘리지 않지만, top_k가 크면 여전히 토큰 비용이 커질 수 있다.

## 실험 순서
1) top_k 8~10, threshold 0.15 근처에서 rerank OFF/ON 두 카드를 만든다.
2) 동일 프롬프트를 실행하고 **retrieved_count·latency·출처 일관성**을 비교한다.
3) latency가 과한 경우 top_k를 줄이거나 threshold를 올려 후보를 줄인 뒤 다시 측정한다.

## 켜지 말아야 할 때
- 대화형/발상형 챗봇처럼 약한 제약이 필요한 경우(지연 민감).
- 이미 top_k 3~5로 좁게 가져오며 score가 안정적인 경우.

## 다음 문서
- /rag/sources-citations (출처 표기 체크리스트)
